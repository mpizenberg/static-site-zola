<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>@Piz - Projects - PubGrub version solving algorithm, in Rust</title>
		<link rel="stylesheet" href="https:&#x2F;&#x2F;matthieu.pizenberg.fr/main.css">
		<link rel="stylesheet" href="//cdn.materialdesignicons.com/4.4.95/css/materialdesignicons.min.css">
	</head>

	<body>
		
	

<nav class="navbar is-primary has-text-weight-bold is-size-5" role="navigation" aria-label="main navigation">
	<div class="navbar-brand">
		<a class="navbar-item" href="https:&#x2F;&#x2F;matthieu.pizenberg.fr/about-me/">@Piz</a>
	</div>
	<div class="navbar-menu is-active">
		<div class="navbar-start">
		</div>
		<div class="navbar-end">
			
			
				
			
			<a class="navbar-item" href="https:&#x2F;&#x2F;matthieu.pizenberg.fr/videos&#x2F;">Videos</a>
			
			
				
			
			<a class="navbar-item" href="https:&#x2F;&#x2F;matthieu.pizenberg.fr/posts&#x2F;">Posts</a>
			
			
				
			
			<a class="navbar-item" href="https:&#x2F;&#x2F;matthieu.pizenberg.fr/projects&#x2F;">Projects</a>
			
			
				
			
			<a class="navbar-item" href="https:&#x2F;&#x2F;matthieu.pizenberg.fr/research&#x2F;">Research</a>
			
			
				
			
			<a class="navbar-item" href="https:&#x2F;&#x2F;matthieu.pizenberg.fr/hire-me&#x2F;">Hire me</a>
			
		</div>
	</div>
</nav>

		



<section class="section">
<div class="container">
<div class="columns is-centered">
<div class="column is-7-widescreen is-8-desktop is-10-tablet">
<h1 class="title is-4">PubGrub version solving algorithm, in Rust</h1>

<p class="subtitle is-5">
<em>Matthieu Pizenberg, Jacob Finkelman, Alex Tokarev</em><br>
Efficiently finding a set of packages and versions satisfying all the constraints of a given project dependencies<br>
2021<br>
</p>

<p>
<span class="tag"><a href="https:&#x2F;&#x2F;pubgrub-rs-guide.netlify.app&#x2F;">Guide</a></span>

<span class="tag"><a href="https:&#x2F;&#x2F;github.com&#x2F;pubgrub-rs&#x2F;pubgrub">Code</a></span>

<span class="tag"><a href="https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;pubgrub">Crate</a></span>

<span class="tag"><a href="https:&#x2F;&#x2F;docs.rs&#x2F;pubgrub">Docs</a></span>
</p>

<div class="research-content content"><p>At Packaging Con 2021, we presented a rewrite from scratch of a recent algorithm called PubGrub, as a Rust library aiming at great performance and flexibility for reuse.</p>
<div class="youtube">
    <iframe src="https://www.youtube-nocookie.com/embed/XyJpYFnl18U" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
</div>
<p>Version solving consists in efficiently finding a set of packages and versions
that satisfy all the constraints of a given project dependencies.
In addition, when that is not possible,
PubGrub tries to provide a very human-readable and clear
explanation as to why that failed.
The <a href="https://medium.com/@nex3/pubgrub-2fb6470504f">introductory blog post about PubGrub</a> presents
one such example of failure explanation:</p>
<pre data-lang="txt" style="background-color:#2b303b;color:#c0c5ce;" class="language-txt "><code class="language-txt" data-lang="txt"><span>Because dropdown &gt;=2.0.0 depends on icons &gt;=2.0.0 and
</span><span>  root depends on icons &lt;2.0.0, dropdown &gt;=2.0.0 is forbidden.
</span><span>
</span><span>And because menu &gt;=1.1.0 depends on dropdown &gt;=2.0.0,
</span><span>  menu &gt;=1.1.0 is forbidden.
</span><span>
</span><span>And because menu &lt;1.1.0 depends on dropdown &gt;=1.0.0 &lt;2.0.0
</span><span>  which depends on intl &lt;4.0.0, every version of menu
</span><span>  requires intl &lt;4.0.0.
</span><span>
</span><span>So, because root depends on both menu &gt;=1.0.0 and intl &gt;=5.0.0,
</span><span>  version solving failed.
</span></code></pre>
<p>This pubgrub crate provides a Rust implementation of PubGrub.
It is generic and works for any type of dependency system
as long as packages (P) and versions (V) implement
the provided <code>Package</code> and <code>Version</code> traits.</p>
<h2 id="using-the-pubgrub-crate">Using the pubgrub crate</h2>
<p>A <a href="https://pubgrub-rs-guide.netlify.app/">guide</a> with both high-level explanations and
in-depth algorithm details is available online.
The <a href="https://docs.rs/pubgrub">API documentation is available on docs.rs</a>.
A version of the <a href="https://pubgrub-rs.github.io/pubgrub/pubgrub/">API docs for the unreleased functionality</a> from <code>dev</code> branch is also
accessible for convenience.</p>
<h2 id="contributing">Contributing</h2>
<p>Discussion and development happens here on GitHub and on our
<a href="https://rust-lang.zulipchat.com/#narrow/stream/260232-t-cargo.2FPubGrub">Zulip stream</a>.
Please join in!</p>
<p>Remember to always be considerate of others,
who may have different native languages, cultures and experiences.
We want everyone to feel welcomed,
let us know with a private message on Zulip if you don't feel that way.</p>
<h2 id="pubgrub">PubGrub</h2>
<p>PubGrub is a version solving algorithm,
written in 2018 by Natalie Weizenbaum
for the Dart package manager.
It is supposed to be very fast and to explain errors
more clearly than the alternatives.
An introductory blog post was
<a href="https://medium.com/@nex3/pubgrub-2fb6470504f">published on Medium</a> by its author.</p>
<p>The detailed explanation of the algorithm is
<a href="https://github.com/dart-lang/pub/blob/master/doc/solver.md">provided on GitHub</a>,
and complemented by the <a href="https://pubgrub-rs-guide.netlify.app/internals/intro.html">&quot;Internals&quot; section of our guide</a>.
The foundation of the algorithm is based on ASP (Answer Set Programming),
and a book called
&quot;<a href="https://potassco.org/book/">Answer Set Solving in Practice</a>&quot;
by Martin Gebser, Roland Kaminski, Benjamin Kaufmann and Torsten Schaub.</p>
</div>

</div>
</div>
</div>
</section>


	</body>
</html>
